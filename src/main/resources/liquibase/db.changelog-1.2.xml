<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.6.xsd">
    <changeSet author="Farit" id="changelog-1.2.1" runOnChange="true" context="test">
        <sql>
            insert into organization (name) values ('org1');
            insert into organization (name) values ('org2');

            insert into contract ("organizationId", amount, details) VALUES (1, 1000, 'contract1');
            insert into contract ("organizationId", amount, details) VALUES (2, 1001, 'contract2');
            insert into contract ("organizationId", amount, details) VALUES (1, 1000.01, 'contract3');

            insert into payment ("contractId", type, date, amount) VALUES (1, 'card', now(), 500);
            insert into payment ("contractId", type, date, amount) VALUES (1, 'cash', now(), 500);
            insert into payment ("contractId", type, date, amount) VALUES (2, 'card', now(), 500);

            insert into product (name) values ('product1');


            insert into location (city, address) values ('Kazan', 'Kazan');
            insert into location (city, address) values ('Innopolis', 'Innopolis');

            insert into shipment ("fromLocationId", "toLocationId", "organisationId", "estimatedShipmentDate", "realShipmentDate",
            "estimatedDeliveryDate", "realDeliveryDate", "parentShipmentId")
            values (1, 2, 1, null, null, null, null, null);

            insert into shipment_item ("shipmentId", "productId", quantity) values (1, 1, 1);
            insert into shipment_item ("shipmentId", "productId", quantity) values (1, 1, 9);
            insert into shipment_item ("shipmentId", "productId", quantity) values (1, 1, 1);
            insert into shipment_item ("shipmentId", "productId", quantity) values (1, 1, 1);

            insert into shipment_item ("shipmentId", "productId", quantity) values (1, 1, 15);

            insert into shipment_item ("shipmentId", "productId", quantity) values (1, 1, 24);
        </sql>
        <rollback>
            truncate table organization restart identity;
            truncate table contract restart identity;
            truncate table payment restart identity;
            truncate table product restart identity;
            truncate table location restart identity;
            truncate table shipment restart identity cascade;
        </rollback>
    </changeSet>
</databaseChangeLog>